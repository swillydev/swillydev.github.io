<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notable Cases - Haley's Solicitors</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles/styles.css">
    <link rel="stylesheet" href="/styles/notable-cases.css">
    <link rel="stylesheet" href="/styles/mobile-nav.css">
    <link rel="stylesheet" href="/styles/mobile-navbar-fix.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Urbanist:wght@300&display=swap');
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Popup Contact Form Overlay -->
    <div id="contact-popup-overlay" class="popup-overlay">
      <div class="popup-content">
        <span class="popup-close">&times;</span>
        <div class="popup-form">
          <h2>Contact Us</h2>
          <p>Need legal assistance? Fill out this form and we'll get back to you quickly.</p>
          <form id="popup_contact_form">
            <div class="form-group">
              <input type="text" placeholder="Full Name" name="name" required>
            </div>
            <div class="form-group">
              <input type="email" placeholder="Email Address" name="email" required>
            </div>
            <div class="form-group">
              <input type="tel" placeholder="Phone Number" name="phone" required>
            </div>
            <div class="form-group">
              <select name="subject" required>
                <option value="" disabled selected>Select Service</option>
                <option>General Enquiries</option>
                <option>Criminal Appeal Enquiries</option>
                <option>Challenging Restraint and Freezing Orders Enquiries</option>
                <option>Arrest, Search and Seizure of Property Enquiries</option>
                <option>Wills And Probate Enquiries</option>
                <option>Road Traffic Cases Enquiries</option>
                <option>Family Law Enquiries</option>
                <option>Immigration Law Enquiries</option>
              </select>
            </div>
            <div class="form-group">
              <textarea name="message" placeholder="How can we help you?" rows="3" required></textarea>
            </div>
            <button type="submit">Send Message</button>
          </form>
        </div>
      </div>
    </div>

    <!-- Top Navbar -->
    <nav class="top-navbar">
        <div class="nav-container">
            <div class="nav-links">
                <a href="/html/contact.html">Contact Us</a>
                <a href="/html/aboutUs.html">About Us</a>
                <a href="/html/Our-Locations.html">Our Locations</a>
            </div>
        </div>
    </nav>

    <!-- Contact Navbar -->
    <nav class="contact-navbar">
        <div class="nav-container">
            <div class="nav-toggle">
                <a href="javascript:void(0)" class="openbtn" id="menuToggle" onclick="openNav()" role="button" aria-label="Toggle navigation menu"><img id="toggle" src="../images/toggle.png" alt="Menu"></a>

                <!-- Always visible mobile dropdown menu -->
                <div class="always-visible-dropdown hidden" id="alwaysVisibleDropdown">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li>
                            <button class="dropdown-toggle" id="practiceAreasToggle">Our Practice Areas</button>
                            <div class="dropdown-content" id="practiceAreasDropdown">
                                <a href="criminal-appeals.html">Criminal Appeals</a>
                                <a href="immigration.html">Immigration</a>
                                <a href="criminal-law.html">Criminal Law</a>
                                <a href="traffic-cases.html">Road Traffic Cases</a>
                                <a href="wills-probate.html">Wills And Probate</a>
                                <a href="arrest-search-seizure.html">Arrest, Search and Seizure of property</a>
                                <a href="restraint-orders.html">Challenging Restraint and Freezing Orders</a>
                            </div>
                        </li>
                        <li><a href="aboutUs.html">About Us</a></li>
                        <li><a href="contact.html">Get In Touch</a></li>
                        <li><a href="Our-Locations.html">Our Locations</a></li>
                        <li><a href="notable-cases.html">Notable Cases</a></li>
                    </ul>
                </div>
            </div>

            <div class="logo" id="haleys-logo">
                <a href="/html/index.html"><img src="/images/haleys-logo-purple.png" alt="Haley's Solicitors"></a>
            </div>

            <div id="numbers-container">
                <h2 class="phone-number"><em>CALL US NOW ON: </em> 0121 285 3211</h2>
                <h2 class="phone-number"><em>24 HOUR DIRECT LINE: </em> 07803 068687 / 07714 487966</h2>
            </div>
        </div>
    </nav>

    <!--side nav bar-->
    <div id="mySidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a>
        <nav class="nav">
            <ul>
                <li><a href="/html/index.html">Home</a></li>
                <li><div class="dropdown">
                    <button class="dropbtn"><a>Our Practice Areas</a></button>
                    <div class="dropdown-content">
                        <a href="/html/criminal-appeals.html">Criminal Appeals</a>
                        <a href="/html/immigration.html">Immigration</a>
                        <a href="/html/criminal-law.html">Criminal Law</a>
                        <a href="/html/traffic-cases.html">Road Traffic Cases</a>
                        <a href="/html/wills-probate.html">Wills And Probate</a>
                        <a href="/html/arrest-search-seizure.html">Arrest, Search and Seizure of property</a>
                        <a href="/html/restraint-orders.html">Challenging Restraint and Freezing Orders</a>
                    </div>
                  </div></li>
                <li><a href="/html/aboutUs.html">About Us</a></li>
                <li><a href="/html/contact.html">Get In Touch</a></li>
                <li><a href="/html/Our-Locations.html">Our Locations</a></li>
                <li class="active"><a href="/html/notable-cases.html">Notable Cases</a></li>
            </ul>
        </nav>
      </div>

      <!-- Mobile Menu -->
      <div id="mobileMenu" class="mobile-menu">
        <button id="mobileMenuClose" class="mobile-menu-close" onclick="closeNav()">&times;</button>
        <ul class="mobile-menu-list">
          <li class="mobile-menu-item"><a href="index.html" class="mobile-menu-link">Home</a></li>
          <li class="mobile-menu-item mobile-menu-dropdown">
            <button class="mobile-menu-dropdown-toggle">Our Practice Areas</button>
            <div class="mobile-menu-dropdown-content">
              <a href="criminal-appeals.html">Criminal Appeals</a>
              <a href="immigration.html">Immigration</a>
              <a href="criminal-law.html">Criminal Law</a>
              <a href="traffic-cases.html">Road Traffic Cases</a>
              <a href="wills-probate.html">Wills And Probate</a>
              <a href="arrest-search-seizure.html">Arrest, Search and Seizure of property</a>
              <a href="restraint-orders.html">Challenging Restraint and Freezing Orders</a>
            </div>
          </li>
          <li class="mobile-menu-item"><a href="aboutUs.html" class="mobile-menu-link">About Us</a></li>
          <li class="mobile-menu-item"><a href="contact.html" class="mobile-menu-link">Get In Touch</a></li>
          <li class="mobile-menu-item"><a href="Our-Locations.html" class="mobile-menu-link">Our Locations</a></li>
          <li class="mobile-menu-item"><a href="notable-cases.html" class="mobile-menu-link">Notable Cases</a></li>
        </ul>
      </div>

      <!-- Mobile overlay -->
      <div id="mobileOverlay" class="mobile-overlay" onclick="closeNav()"></div>

    <!-- Main Content -->
    <div class="page-container fade-in-section">
        <div class="content-container fade-in-section">
            <h1 class="page-title">Notable Cases</h1>

            <div class="cases-container">
                <!-- Case 1: Text on left, image on right -->
                <div class="case-card fade-in-section">
                    <div class="case-content">
                        <h2 class="case-title">R v. Smith - Successful Appeal Against Conviction</h2>
                        <div class="case-meta">
                            <div class="case-date">
                                <i class="fa fa-calendar"></i>
                                <span>June 2023</span>
                            </div>
                            <div class="case-type">
                                <i class="fa fa-gavel"></i>
                                <span>Criminal Appeal</span>
                            </div>
                        </div>
                        <div class="case-description">
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.</p>
                            <p>Suspendisse in orci enim. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.</p>
                        </div>
                    </div>
                    <div class="case-image">
                        <img src="/images/criminal-court.jpg" alt="Court building" onerror="this.src='/images/placeholder.jpg'">
                    </div>
                </div>

                <!-- Case 2: Image on left, text on right -->
                <div class="case-card reverse fade-in-section">
                    <div class="case-content">
                        <h2 class="case-title">Johnson Family Immigration Case</h2>
                        <div class="case-meta">
                            <div class="case-date">
                                <i class="fa fa-calendar"></i>
                                <span>March 2023</span>
                            </div>
                            <div class="case-type">
                                <i class="fa fa-globe"></i>
                                <span>Immigration</span>
                            </div>
                        </div>
                        <div class="case-description">
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.</p>
                            <p>Suspendisse in orci enim. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.</p>
                        </div>
                    </div>
                    <div class="case-image">
                        <img src="/images/immigration-trial.jpg" alt="Immigration documents" onerror="this.src='/images/placeholder.jpg'">
                    </div>
                </div>

                <!-- Case 3: Text on left, image on right -->
                <div class="case-card fade-in-section">
                    <div class="case-content">
                        <h2 class="case-title">Challenging Asset Freezing Order - Williams Case</h2>
                        <div class="case-meta">
                            <div class="case-date">
                                <i class="fa fa-calendar"></i>
                                <span>November 2022</span>
                            </div>
                            <div class="case-type">
                                <i class="fa fa-lock"></i>
                                <span>Restraint Orders</span>
                            </div>
                        </div>
                        <div class="case-description">
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.</p>
                            <p>Suspendisse in orci enim. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.</p>
                        </div>
                    </div>
                    <div class="case-image">
                        <img src="/images/restraining-order-court.jpg" alt="Legal documents" onerror="this.src='/images/placeholder.jpg'">
                    </div>
                </div>

                <!-- Case 4: Image on left, text on right -->
                <div class="case-card reverse fade-in-section">
                    <div class="case-content">
                        <h2 class="case-title">Successful Defense in Major Traffic Violation</h2>
                        <div class="case-meta">
                            <div class="case-date">
                                <i class="fa fa-calendar"></i>
                                <span>August 2022</span>
                            </div>
                            <div class="case-type">
                                <i class="fa fa-car"></i>
                                <span>Road Traffic Case</span>
                            </div>
                        </div>
                        <div class="case-description">
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.</p>
                            <p>Suspendisse in orci enim. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.</p>
                        </div>
                    </div>
                    <div class="case-image">
                        <img src="/images/traffic-police-case.jpg" alt="Traffic court" onerror="this.src='/images/placeholder.jpg'">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Form -->
    <section id="contact-form" class="bg-white py-16 practice-fadeInUp-animation">
        <div class="container mx-auto px-4">
            <h2 id="contact-title" class="text-3xl text-center mb-12 brand-pink">HOW CAN WE HELP? <em>CONTACT US TODAY</em></h2>
            <div id="contact-text">
                <p>Contact us and one of our advisors will be in touch to discuss your situation. We will take some initial information and if we can help, we will book you in for a consultation.</p>
                <p>Please provide as much information as possible so that your enquiry can be directed to the most appropriate department. Your enquiry will be treated in confidence, however we take the safety of your personal information serious, therefore please refrain from sending confidential information, such as full names of 3rd parties involved, address details etc.</p>
            </div>
            <div id="container">
                <div class="icon_wrapper">

                </div>
                <form action="https://api.web3forms.com/submit" method="POST" id="contact_form">
                  <input type="hidden" name="access_key" value="4366b25c-8d7f-49d2-8a6b-17784f13aaf9">
                  <div class="name">
                    <label for="name"></label>
                    <input type="text" placeholder="Full Name:" name="name" id="name_input" required>
                  </div>
                  <div class="email">
                    <label for="email"></label>
                    <input type="email" placeholder="E-mail:" name="email" id="email_input" required>
                  </div>
                  <div class="telephone">
                    <label for="name"></label>
                    <input type="text" placeholder="Phone Number:" name="telephone" id="telephone_input" required>
                  </div>
                  <div class="subject">
                    <label for="subject"></label>
                    <select placeholder="Subject line" name="subject" id="subject_input" required>
                        <option disabled hidden selected>Subject line</option>
                        <option>General Enquiries</option>
                        <option>Criminal Appeal Enquiries</option>
                        <option>Challenging Restraint and Freezing Orders Enquiries</option>
                        <option>Arrest, Search and Seizure of Property Enquiries</option>
                        <option>Wills And Probate Enquiries</option>
                        <option>Road Traffic Cases Enquiries</option>
                        <option>Family Law Enquiries</option>
                        <option>Immigration Law Enquiries</option>
                    </select>
                  </div>
                  <div class="message">
                    <label for="message"></label>
                    <textarea name="message" placeholder="I'd like to chat about" id="message_input" cols="30" rows="5" required></textarea>
                  </div>
                  <div class="submit">
                    <input type="submit" value="Send Message" id="form_button" />
                  </div>
                </form><!-- // End form -->
              </div><!-- // End #container -->
        </div>
    </section>

    <!-- Footer -->
    <footer id="footerDiv" class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4 grid grid-cols-3 gap-8">
            <div>
                <h4 class="font-bold mb-4">CONTACT US</h4>
                <p>16 Horton Square, Highgate, Birmingham, B12 0YR</p>
                <p>Phone: 0121 285 3211</p>
                <p>Email: info@haleys-solicitors.co.uk</p>
            </div>
            <div>
                <h4 class="font-bold mb-4">KEY SERVICES</h4>
                <ul id="key-services">
                    <li><a href="/html/criminal-appeals.html">Criminal Appeals</a></li>
                    <li><a href="/html/immigration.html">Immigration</a></li>
                    <li><a href="/html/criminal-law.html">Criminal Law</a></li>
                    <li><a href="/html/traffic-cases.html">Road Traffic Cases</a></li>
                    <li><a href="/html/wills-probate.html">Wills And Probate</a></li>
                    <li><a href="/html/arrest-search-seizure.html">Arrest, Search and Seizure of property</a></li>
                    <li><a href="/html/restraint-orders.html">Challenging Restraint and Freezing Orders</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-4">FOLLOW US ON OUR SOCIAL MEDIAS:</h4>
                <div class="flex space-x-4">
                    <a href="https://www.facebook.com/people/Haleys-Solicitors/pfbid02eyycUJzBz8kLSFLgmg55snWupLcpLKC3rrWBWmSXHfm4dkKC92fz6rbxaVzoYTpAl/?mibextid=wwXIfr&rdid=BZAT6YUY4rjyHQN8&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F15FdwzCRy6%2F%3Fmibextid%3DwwXIfr"><img class=socials src="/images/facebook.png"></a>
                    <a href="https://www.instagram.com/haleys.solicitors/"><img class=socials src="/images/Insta.png"></a>
                    <a href="https://www.tiktok.com/@haleys.solicitors?_t=ZN-8v8kqDHDXAU&_r=1"><img class=socials src="/images/tikTok.png"></a>
                </div>
            </div>
            <div>
                <h4 class="font-bold mb-4">QUICK LINKS</h4>
                <ul id="socials">
                    <li><a href="/html/index.html">Home</a></li>
                    <li><a href="/html/aboutUs.html">About Us</a></li>
                    <li><a href="/html/contact.html">Contact</a></li>
                    <li><a href="/html/Our-Locations.html">Our Locations</a></li>
                    <li><a href="/html/notable-cases.html">Notable Cases</a></li>
                </ul>
            </div>
        </div>
    </footer>
    <!-- Toast Notifications -->
    <script src="/js/toast-notification.js"></script>
    <!-- Form Handler for MongoDB -->
    <script src="/js/form-handler.js"></script>
    <!-- Scroll Animations -->
    <script src="/js/scroll-animations.js"></script>
    <script src="/js/sidebar-fix.js"></script>
    <script src="/js/active-page.js"></script>
    <script src="/js/script.js"></script>
    <!-- Case Animations -->
    <script src="/js/case-animations.js"></script>
    <!-- Popup Contact Form -->
    <script src="/js/popup-contact.js"></script>
    <script src="/js/phone-number-formatter.js"></script>

    <!-- Sidebar overlay -->
    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <!-- Mobile menu script -->
    <script>
      // Check if we're on a mobile device
      const isMobile = () => window.innerWidth <= 768;

      // Simple direct toggle function for mobile menu
      function toggleMobileMenu() {
          const mobileMenu = document.getElementById('mobileMenu');
          const mobileOverlay = document.getElementById('mobileOverlay');
          const navToggle = document.querySelector('.nav-toggle');

          if (mobileMenu.classList.contains('open')) {
              // Close menu
              mobileMenu.classList.remove('open');
              mobileOverlay.classList.remove('show');
              document.body.style.overflow = ''; // Restore scrolling
          } else {
              // Open menu
              mobileMenu.classList.add('open');
              mobileOverlay.classList.add('show');
              document.body.style.overflow = 'hidden'; // Prevent scrolling

              // Position the menu under the toggle button
              if (navToggle) {
                  const rect = navToggle.getBoundingClientRect();
                  const centerX = rect.left + rect.width / 2;
                  mobileMenu.style.left = `${centerX}px`;
                  mobileMenu.style.transform = 'translateX(-50%)';
              }
          }
      }

      function openNav() {
          console.log('openNav called, isMobile:', isMobile());

          if (isMobile()) {
              // Mobile behavior - show the always visible dropdown
              const alwaysVisibleDropdown = document.getElementById('alwaysVisibleDropdown');
              if (alwaysVisibleDropdown) {
                  alwaysVisibleDropdown.classList.remove('hidden');
              }
          } else {
              // Desktop behavior - side panel
              const sidebar = document.getElementById("mySidebar");
              const overlay = document.getElementById("sidebar-overlay");

              console.log('Desktop elements:', sidebar, overlay);

              sidebar.style.width = "250px";
              overlay.classList.add("show");
              document.body.style.backgroundColor = "rgba(0,0,0,0.4)";

              console.log('Sidebar opened');
          }
      }

      function closeNav() {
          console.log('closeNav called');

          if (isMobile()) {
              // Mobile behavior - hide the always visible dropdown
              const alwaysVisibleDropdown = document.getElementById('alwaysVisibleDropdown');

              if (alwaysVisibleDropdown && !alwaysVisibleDropdown.classList.contains('hidden')) {
                  // Hide all dropdown content first
                  const dropdownContent = alwaysVisibleDropdown.querySelector('.dropdown-content.show');
                  const dropdownToggle = alwaysVisibleDropdown.querySelector('.dropdown-toggle.active');

                  if (dropdownContent) {
                      dropdownContent.classList.remove('show');
                  }

                  if (dropdownToggle) {
                      dropdownToggle.classList.remove('active');
                  }

                  // Add a class to hide the dropdown with animation
                  alwaysVisibleDropdown.classList.add('hiding');

                  // After animation completes, hide the dropdown
                  setTimeout(function() {
                      alwaysVisibleDropdown.classList.remove('hiding');
                      alwaysVisibleDropdown.classList.add('hidden');
                  }, 300);
              }
          } else {
              // Desktop behavior
              const sidebar = document.getElementById("mySidebar");
              const overlay = document.getElementById("sidebar-overlay");

              sidebar.style.width = "0";
              overlay.classList.remove("show");
              document.body.style.backgroundColor = "white";

              console.log('Sidebar closed');
          }
      }

      // Initialize mobile menu functionality when DOM is loaded
      document.addEventListener('DOMContentLoaded', function() {
          // Handle always visible dropdown toggle as a tab
          const practiceAreasToggle = document.getElementById('practiceAreasToggle');
          const practiceAreasDropdown = document.getElementById('practiceAreasDropdown');

          if (practiceAreasToggle && practiceAreasDropdown) {
              // Function to toggle dropdown
              function toggleDropdown(e) {
                  e.preventDefault();
                  e.stopPropagation();

                  console.log('Toggle dropdown called');

                  // Toggle active state for tab-like appearance
                  practiceAreasToggle.classList.toggle('active');

                  // Toggle content visibility with animation
                  if (practiceAreasDropdown.classList.contains('show')) {
                      // If it's open, start closing animation
                      practiceAreasDropdown.style.maxHeight = '0px';

                      // Remove show class after animation completes
                      setTimeout(function() {
                          practiceAreasDropdown.classList.remove('show');
                      }, 300);
                  } else {
                      // If it's closed, show it first then animate
                      practiceAreasDropdown.classList.add('show');

                      // Set max height for animation
                      practiceAreasDropdown.style.maxHeight = practiceAreasDropdown.scrollHeight + 'px';
                  }
              }

              // Add click event
              practiceAreasToggle.addEventListener('click', toggleDropdown);

              // Add touch events specifically for mobile
              practiceAreasToggle.addEventListener('touchstart', function(e) {
                  // Just prevent default to avoid double-firing
                  e.preventDefault();
              });

              practiceAreasToggle.addEventListener('touchend', toggleDropdown);
          }

          // Add event listener to the menu toggle button - multiple approaches for redundancy
          const menuToggle = document.getElementById('menuToggle');
          if (menuToggle) {
              console.log('Menu toggle found:', menuToggle);

              // Method 1: Direct click and touch handlers for better mobile support
              ['click', 'touchstart'].forEach(function(eventType) {
                  menuToggle.addEventListener(eventType, function(e) {
                      console.log('Menu toggle ' + eventType + ' via event listener');
                      e.preventDefault();
                      openNav();

                      // Show the dropdown menu on mobile
                      if (window.innerWidth <= 768) {
                          const alwaysVisibleDropdown = document.getElementById('alwaysVisibleDropdown');
                          if (alwaysVisibleDropdown) {
                              alwaysVisibleDropdown.classList.remove('hidden');
                          }
                      }
                  });
              });

              // Method 2: Direct click and touch handlers for the image
              const toggleImg = document.getElementById('toggle');
              if (toggleImg) {
                  ['click', 'touchstart'].forEach(function(eventType) {
                      toggleImg.addEventListener(eventType, function(e) {
                          console.log('Toggle image ' + eventType);
                          e.preventDefault();
                          e.stopPropagation();
                          openNav();

                          // Show the dropdown menu on mobile
                          if (window.innerWidth <= 768) {
                              const alwaysVisibleDropdown = document.getElementById('alwaysVisibleDropdown');
                              if (alwaysVisibleDropdown) {
                                  alwaysVisibleDropdown.classList.remove('hidden');
                              }
                          }
                      });
                  });
              }
          }

          // Handle mobile dropdown toggles
          const mobileDropdownToggles = document.querySelectorAll('.mobile-menu-dropdown-toggle');
          mobileDropdownToggles.forEach(toggle => {
              toggle.addEventListener('click', function() {
                  // Toggle active class
                  this.classList.toggle('active');

                  // Get the dropdown content
                  const dropdownContent = this.nextElementSibling;

                  // Toggle show class
                  dropdownContent.classList.toggle('show');
              });
          });
      });

      // Close navigation when clicking outside
      document.addEventListener('click', function(event) {
          const toggleBtn = document.querySelector('.openbtn');

          if (isMobile()) {
              // Mobile behavior
              const mobileMenu = document.getElementById('mobileMenu');

              // Check if mobile menu is open and click is outside
              if (mobileMenu.classList.contains("open") &&
                  !mobileMenu.contains(event.target) &&
                  event.target !== toggleBtn &&
                  !toggleBtn.contains(event.target)) {
                  closeNav();
              }

              // Close dropdown when clicking outside
              if (!event.target.matches('.dropdown-toggle') &&
                  !event.target.closest('.dropdown-content') &&
                  !event.target.closest('#practiceAreasToggle') &&
                  !event.target.closest('.always-visible-dropdown')) {
                  const practiceAreasDropdown = document.getElementById('practiceAreasDropdown');
                  const practiceAreasToggle = document.getElementById('practiceAreasToggle');

                  if (practiceAreasDropdown && practiceAreasDropdown.classList.contains('show')) {
                      // Start closing animation
                      practiceAreasDropdown.style.maxHeight = '0px';

                      // Remove active state from toggle
                      if (practiceAreasToggle) {
                          practiceAreasToggle.classList.remove('active');
                      }

                      // Remove show class after animation completes
                      setTimeout(function() {
                          practiceAreasDropdown.classList.remove('show');
                      }, 300);
                  }
              }

              // Close the entire dropdown menu when clicking outside
              if (!event.target.matches('#toggle') &&
                  !event.target.matches('.openbtn') &&
                  !event.target.closest('.always-visible-dropdown') &&
                  !event.target.closest('#menuToggle')) {
                  const alwaysVisibleDropdown = document.getElementById('alwaysVisibleDropdown');

                  if (alwaysVisibleDropdown && !alwaysVisibleDropdown.classList.contains('hidden')) {
                      // Hide all dropdown content first
                      const dropdownContent = alwaysVisibleDropdown.querySelector('.dropdown-content.show');
                      const dropdownToggle = alwaysVisibleDropdown.querySelector('.dropdown-toggle.active');

                      if (dropdownContent) {
                          dropdownContent.classList.remove('show');
                      }

                      if (dropdownToggle) {
                          dropdownToggle.classList.remove('active');
                      }

                      // Add a class to hide the dropdown with animation
                      alwaysVisibleDropdown.classList.add('hiding');

                      // After animation completes, hide the dropdown
                      setTimeout(function() {
                          alwaysVisibleDropdown.classList.remove('hiding');
                          alwaysVisibleDropdown.classList.add('hidden');
                      }, 300);
                  }
              }

              // Show the dropdown when clicking the toggle button
              if (event.target.matches('#toggle') || event.target.matches('.openbtn') || event.target.closest('#menuToggle')) {
                  const alwaysVisibleDropdown = document.getElementById('alwaysVisibleDropdown');

                  if (alwaysVisibleDropdown && window.innerWidth <= 768) {
                      alwaysVisibleDropdown.classList.remove('hidden');
                  }
              }
          } else {
              // Desktop behavior
              const sidebar = document.getElementById('mySidebar');

              // Check if sidebar is open and click is outside
              if (sidebar && sidebar.style.width === "250px" &&
                  !sidebar.contains(event.target) &&
                  event.target !== toggleBtn &&
                  !toggleBtn.contains(event.target)) {
                  closeNav();
              }
          }
      });

      // Add touch event support for mobile
      document.addEventListener('touchstart', function(event) {
          const toggleBtn = document.querySelector('.openbtn');

          if (isMobile()) {
              // Mobile behavior - handled in touchend event
          } else {
              // Desktop behavior
              const sidebar = document.getElementById('mySidebar');

              // Check if sidebar is open and touch is outside
              if (sidebar && sidebar.style.width === "250px" &&
                  !sidebar.contains(event.target) &&
                  event.target !== toggleBtn &&
                  !toggleBtn.contains(event.target)) {
                  closeNav();
              }
          }
      });
    </script>